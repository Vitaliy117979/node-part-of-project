{
  "openapi": "3.0.1",
  "info": {
    "version": "2.0.1",

    "title": "Swagger test",
    "description": "Showing off swagger-ui-express",
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "consumes": ["application/json", "multipart/form-data"],
  "produces": ["application/json"],
  "servers": [
    { "url": "http://localhost:3030/api" },
    { "url": "https://so-yummy-backend-hg4e.onrender.com/api" }
  ],
  "tags": [
    {
      "name": "Auth",
      "description": "Authorization endpoints"
    },
    {
      "name": "Subscribe",
      "description": "Subscribe endpoints"
    },
    {
      "name": "Search",
      "description": "Search endpoints"
    },
    {
      "name": "Ingredients",
      "description": "Ingredients endpoints"
    },
    {
      "name": "Recipes",
      "description": "Recipes endpoints"
    },
    {
      "name": "ShoppingList",
      "description": "Shopping List endpoints"
    }
  ],

  "paths": {
    "/users/register": {
      "post": {
        "tags": ["Auth"],
        "summary": "User registration",
        "parameters": [],
        "requestBody": {
          "description": "Registration's object",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterSchema"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegistrationResponse"
                }
              }
            }
          },
          "400": {
            "description": "missing fields",
            "content": {}
          },
          "409": {
            "description": "Provided email already exists",
            "content": {}
          }
        }
      }
    },
    "/users/login": {
      "post": {
        "tags": ["Auth"],
        "summary": "User login",
        "requestBody": {
          "description": "Login object",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginSchema"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful login",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          },
          "400": {
            "description": "missing fields",
            "content": {}
          },
          "401": {
            "description": "Unauthorized (email or password is wrong)",
            "content": {}
          }
        }
      }
    },
    "/users/current": {
      "get": {
        "tags": ["Auth"],
        "summary": "Get current user information",
        "security": [{ "Bearer": [] }],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/getCurrent"
                }
              }
            }
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          }
        }
      }
    },
    "/users/logout": {
      "post": {
        "tags": ["Auth"],
        "summary": "User logout",
        "security": [{ "Bearer": [] }],
        "responses": {
          "204": {},
          "401": {
            "description": "Not authorized"
          }
        }
      }
    },
    "/users/update": {
      "patch": {
        "tags": ["Auth"],
        "summary": "Updating user information",
        "parameters": [],
        "security": [{ "Bearer": [] }],
        "requestBody": {
          "description": "Updata`s object",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/updateUser"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Your data has been updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/updateUserResponse"
                }
              }
            }
          },
          "400": {
            "description": "Name field cannot be empty. or File size exceeds the limit. or Missing fields.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserUpdateError"
                }
              }
            }
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          }
        }
      }
    },
    "/subscribe": {
      "patch": {
        "tags": ["Subscribe"],
        "summary": "User subscribe service",
        "parameters": [],
        "security": [{ "Bearer": [] }],
        "requestBody": {
          "description": "Subscribe's object",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/subscribeRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Subscribe successfully changed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/subscribeResponse"
                }
              }
            }
          },
          "400": {
            "description": "Unsuccessful request",
            "content": {}
          }
        }
      }
    },
    "/search": {
      "get": {
        "tags": ["Search"],
        "summary": "Search recipes by keyword",
        "parameters": [
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Keyword for searching recipes"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Number of recipes per page"
          }
        ],
        "security": [{ "Bearer": [] }],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "oneOf": [
                  {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/Recipe"
                    }
                  },
                  {
                    "type": "object",
                    "properties": {
                      "message": {
                        "type": "string",
                        "description": "Message when no recipes are found"
                      }
                    }
                  }
                ]
              }
            }
          },
          "400": {
            "description": "No search keyword specified",
            "content": {}
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          }
        }
      }
    },
    "/search/byIngredients": {
      "get": {
        "tags": ["Search"],
        "summary": "Search recipes by ingredients",
        "parameters": [
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Keyword for searching recipes"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Number of recipes per page"
          }
        ],
        "security": [{ "Bearer": [] }],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "oneOf": [
                  {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/Recipe"
                    }
                  },
                  {
                    "type": "object",
                    "properties": {
                      "message": {
                        "type": "string",
                        "description": "Message when no recipes are found"
                      }
                    }
                  }
                ]
              }
            }
          },
          "400": {
            "description": "No search keyword specified",
            "content": {}
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          }
        }
      }
    },
    "/search/ingredients": {
      "get": {
        "tags": ["Search"],
        "summary": "Search ingredients",
        "parameters": [
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "Keyword for searching recipes"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Number of ingredients per page"
          }
        ],
        "security": [{ "Bearer": [] }],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "oneOf": [
                  {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/Recipe"
                    }
                  },
                  {
                    "type": "object",
                    "properties": {
                      "message": {
                        "type": "string",
                        "description": "Message when no recipes are found"
                      }
                    }
                  }
                ]
              }
            }
          },
          "404": {
            "description": "No search keyword specified",
            "content": {}
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          }
        }
      }
    },
    "/recipes/popular-recipe": {
      "get": {
        "tags": ["Recipes"],
        "summary": "Search popular recipes",
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Number of recipes per page"
          }
        ],
        "security": [{ "Bearer": [] }],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "oneOf": [
                  {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/Recipe"
                    }
                  },
                  {
                    "type": "object",
                    "properties": {
                      "message": {
                        "type": "string",
                        "description": "Message when no recipes are found"
                      }
                    }
                  }
                ]
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {}
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          },
          "500": {
            "description": "Server error",
            "content": {}
          }
        }
      }
    },
    "/recipes/main-page": {
      "get": {
        "tags": ["Recipes"],
        "summary": "Search popular recipes",
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Number of recipes per page"
          }
        ],
        "security": [{ "Bearer": [] }],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "oneOf": [
                  {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/Recipe"
                    }
                  },
                  {
                    "type": "object",
                    "properties": {
                      "message": {
                        "type": "string",
                        "description": "Message when no recipes are found"
                      }
                    }
                  }
                ]
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {}
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          },
          "500": {
            "description": "Server error",
            "content": {}
          }
        }
      }
    },
    "/recipes/category/{category}": {
      "get": {
        "tags": ["Recipes"],
        "summary": "Getting recipes by category",
        "parameters": [
          {
            "in": "path",
            "name": "category",
            "schema": { "type": "string" },
            "required": true,
            "description": "Category on the list of recipes: Beef, Breakfast, Chicken, Dessert, Goat, Lamb, Miscellaneous, Pasta, Pork, Seafood, Side, Starter, Vegan, Vegetarian"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": { "type": "integer" },
            "description": "Limit the list of category recipes."
          }
        ],
        "security": [{ "Bearer": [] }],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "oneOf": [
                  {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/Recipe"
                    }
                  },
                  {
                    "type": "object",
                    "properties": {
                      "message": {
                        "type": "string",
                        "description": "Message when no recipes are found"
                      }
                    }
                  }
                ]
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {}
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          },
          "500": {
            "description": "Server error",
            "content": {}
          }
        }
      }
    },
    "/recipes/{id}": {
      "get": {
        "tags": ["Recipes"],
        "summary": "Getting recipe",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": { "type": "string" },
            "required": true,
            "description": "Recipe Id"
          }
        ],
        "security": [{ "Bearer": [] }],
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "recipe": {
                      "type": "object",
                      "description": "Recipe"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {}
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          },
          "500": {
            "description": "Server error",
            "content": {}
          }
        }
      }
    },
    "/recipes/category-list": {
      "get": {
        "tags": ["Recipes"],
        "summary": "Getting category-list",
        "parameters": [],
        "security": [{ "Bearer": [] }],
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "recipe": {
                      "type": "object",
                      "description": "Recipe"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {}
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          },
          "500": {
            "description": "Server error",
            "content": {}
          }
        }
      }
    },
    "/favorites": {
      "post": {
        "tags": ["Recipes"],
        "summary": "Adding to favorites a recipe created by the User",
        "parameters": [],
        "security": [{ "Bearer": [] }],
        "requestBody": {
          "description": "Data for adding a recipe to favorites",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["favorite"],
                "properties": {
                  "favorite": {
                    "type": "string",
                    "description": "Recipe Id"
                  }
                },
                "example": {
                  "_id": "6462a8f74c3d0ddd28897fde",
                  "title": "Apple Frangipan Tart",
                  "category": "Dessert",
                  "area": "British",
                  "instructions": "Preheat the oven to 200C/180C Fan/Gas 6.\r\nPut the biscuits in a large re-sealable freezer bag and bash with a rolling pin into fine crumbs. Melt the butter in a small pan, then add the biscuit crumbs and stir until coated with butter. Tip into the tart tin and, using the back of a spoon, press over the base and sides of the tin to give an even layer. Chill in the fridge while you make the filling.\r\nCream together the butter and sugar until light and fluffy. You can do this in a food processor if you have one. Process for 2-3 minutes. Mix in the eggs, then add the ground almonds and almond extract and blend until well combined.\r\nPeel the apples, and cut thin slices of apple. Do this at the last minute to prevent the apple going brown. Arrange the slices over the biscuit base. Spread the frangipane filling evenly on top. Level the surface and sprinkle with the flaked almonds.\r\nBake for 20-25 minutes until golden-brown and set.\r\nRemove from the oven and leave to cool for 15 minutes. Remove the sides of the tin. An easy way to do this is to stand the tin on a can of beans and push down gently on the edges of the tin.\r\nTransfer the tart, with the tin base attached, to a serving plate. Serve warm with cream, crème fraiche or ice cream.",
                  "description": "A delicious tart made with almond cream and fresh apples.",
                  "thumb": "https://www.themealdb.com/images/media/meals/wxywrq1468235067.jpg",
                  "preview": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678560408/r9oh73shqwiso3t6cz7t.jpg",
                  "time": "50",
                  "youtube": "https://www.youtube.com/watch?v=rp8Slv4INLk",
                  "tags": ["Tart", "Baking", "Fruity"],
                  "ingredients": [
                    {
                      "id": {
                        "_id": "640c2dd963a319ea671e36c0",
                        "name": "Digestive Biscuits",
                        "desc": "A type of biscuit that originated in the United Kingdom. They are made with wholemeal flour and are lightly sweetened, making them a popular choice for use in pie crusts and as a base for cheesecakes and other desserts.",
                        "img": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564743/bo5tts3n5ebbtxlnrxft.png"
                      },
                      "measure": "175g/6oz"
                    },
                    {
                      "id": {
                        "_id": "640c2dd963a319ea671e367e",
                        "name": "Butter",
                        "desc": "A dairy product made from churning cream or milk, with a high fat content and a creamy, rich flavor that is often used in cooking and baking.",
                        "img": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564674/ovea5weymaecrnbwxuq9.png"
                      },
                      "measure": "75g/3oz"
                    },
                    {
                      "id": {
                        "_id": "640c2dd963a319ea671e3676",
                        "name": "Bramley Apples",
                        "desc": "A type of apple that is popular in the UK and Ireland, known for its tart flavor and firm texture, which makes it ideal for cooking and baking.",
                        "img": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564216/cmakgrcdewhz0utfsw6r.png"
                      },
                      "measure": "200g/7oz"
                    },
                    {
                      "id": {
                        "_id": "640c2dd963a319ea671e3687",
                        "name": "Caster Sugar",
                        "desc": "A type of fine sugar that is commonly used in baking and cooking, with a fine texture that dissolves easily, and is often used in recipes that require quick mixing or dissolving, such as meringues, whipped cream, and cakes.",
                        "img": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564673/fbkmvnc8830ng9d8j6ld.png"
                      },
                      "measure": "75g/3oz"
                    },
                    {
                      "id": {
                        "_id": "640c2dd963a319ea671e36db",
                        "name": "Free-range Eggs, Beaten",
                        "desc": "Chicken eggs from free-range chickens that have been whisked together until the whites and yolks are fully mixed.",
                        "img": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564797/vgrkykfsutx3tgdpcfsp.png"
                      },
                      "measure": "2"
                    },
                    {
                      "id": {
                        "_id": "640c2dd963a319ea671e36f6",
                        "name": "Ground Almonds",
                        "desc": "Ground almonds are finely powdered almonds that can be used as a gluten-free alternative to wheat flour in baking or as a topping for dishes like oatmeal or yogurt.",
                        "img": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564798/utvplhpheg7fn1mev30k.png"
                      },
                      "measure": "75g/3oz"
                    },
                    {
                      "id": {
                        "_id": "640c2dd963a319ea671e3861",
                        "name": "Almond Extract",
                        "desc": "The almond (Prunus dulcis, syn. Prunus amygdalus) is a species of tree native to Mediterranean climate regions of the Middle East, but widely cultivated elsewhere. The almond is also the name of the edible and widely cultivated seed of this tree. Within the genus Prunus, it is classified with the peach in the subgenus Amygdalus, distinguished from the other subgenera by corrugations on the shell (endocarp) surrounding the seed.\r\n\r\nThe fruit of the almond is a drupe, consisting of an outer hull and a hard shell with the seed, which is not a true nut, inside. Shelling almonds refers to removing the shell to reveal the seed. Almonds are sold shelled or unshelled. Blanched almonds are shelled almonds that have been treated with hot water to soften the seedcoat, which is then removed to reveal the white embryo.",
                        "img": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678565046/xorc6zn6c7rqdqoqho1r.png"
                      },
                      "measure": "1 tsp"
                    },
                    {
                      "id": {
                        "_id": "640c2dd963a319ea671e36d5",
                        "name": "Flaked Almonds",
                        "desc": "Sliced or chopped almonds commonly used in baking and as a topping for salads and desserts.",
                        "img": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564798/ioewvib3w3mmdbbhp8ia.png"
                      },
                      "measure": "50g/1¾oz"
                    }
                  ],
                  "popularity": 0,
                  "updatedAt": "2023-07-17T07:39:51.200Z"
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Recipe added to favorites successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Recipe added to favorites successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          },
          "404": {
            "description": "Not found",
            "content": {}
          },
          "409": {
            "description": "Recipe is already added to your favorites",
            "content": {}
          },
          "500": {
            "description": "Server error",
            "content": {}
          }
        }
      },
      "get": {
        "tags": ["Recipes"],
        "summary": "Getting favorite recipes created by the User",
        "parameters": [],
        "security": [{ "Bearer": [] }],
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "description": "Recipes"
                  },
                  "example": [
                    {
                      "_id": "6462a8f74c3d0ddd28897fde",
                      "title": "Apple Frangipan Tart",
                      "category": "Dessert",
                      "area": "British",
                      "instructions": "Preheat the oven to 200C/180C Fan/Gas 6.\r\nPut the biscuits in a large re-sealable freezer bag and bash with a rolling pin into fine crumbs. Melt the butter in a small pan, then add the biscuit crumbs and stir until coated with butter. Tip into the tart tin and, using the back of a spoon, press over the base and sides of the tin to give an even layer. Chill in the fridge while you make the filling.\r\nCream together the butter and sugar until light and fluffy. You can do this in a food processor if you have one. Process for 2-3 minutes. Mix in the eggs, then add the ground almonds and almond extract and blend until well combined.\r\nPeel the apples, and cut thin slices of apple. Do this at the last minute to prevent the apple going brown. Arrange the slices over the biscuit base. Spread the frangipane filling evenly on top. Level the surface and sprinkle with the flaked almonds.\r\nBake for 20-25 minutes until golden-brown and set.\r\nRemove from the oven and leave to cool for 15 minutes. Remove the sides of the tin. An easy way to do this is to stand the tin on a can of beans and push down gently on the edges of the tin.\r\nTransfer the tart, with the tin base attached, to a serving plate. Serve warm with cream, crème fraiche or ice cream.",
                      "description": "A delicious tart made with almond cream and fresh apples.",
                      "thumb": "https://www.themealdb.com/images/media/meals/wxywrq1468235067.jpg",
                      "preview": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678560408/r9oh73shqwiso3t6cz7t.jpg",
                      "time": "50",
                      "youtube": "https://www.youtube.com/watch?v=rp8Slv4INLk",
                      "tags": ["Tart", "Baking", "Fruity"],
                      "ingredients": [
                        {
                          "id": {
                            "_id": "640c2dd963a319ea671e36c0",
                            "name": "Digestive Biscuits",
                            "desc": "A type of biscuit that originated in the United Kingdom. They are made with wholemeal flour and are lightly sweetened, making them a popular choice for use in pie crusts and as a base for cheesecakes and other desserts.",
                            "img": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564743/bo5tts3n5ebbtxlnrxft.png"
                          },
                          "measure": "175g/6oz"
                        },
                        {
                          "id": {
                            "_id": "640c2dd963a319ea671e367e",
                            "name": "Butter",
                            "desc": "A dairy product made from churning cream or milk, with a high fat content and a creamy, rich flavor that is often used in cooking and baking.",
                            "img": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564674/ovea5weymaecrnbwxuq9.png"
                          },
                          "measure": "75g/3oz"
                        },
                        {
                          "id": {
                            "_id": "640c2dd963a319ea671e3676",
                            "name": "Bramley Apples",
                            "desc": "A type of apple that is popular in the UK and Ireland, known for its tart flavor and firm texture, which makes it ideal for cooking and baking.",
                            "img": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564216/cmakgrcdewhz0utfsw6r.png"
                          },
                          "measure": "200g/7oz"
                        },
                        {
                          "id": {
                            "_id": "640c2dd963a319ea671e3687",
                            "name": "Caster Sugar",
                            "desc": "A type of fine sugar that is commonly used in baking and cooking, with a fine texture that dissolves easily, and is often used in recipes that require quick mixing or dissolving, such as meringues, whipped cream, and cakes.",
                            "img": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564673/fbkmvnc8830ng9d8j6ld.png"
                          },
                          "measure": "75g/3oz"
                        },
                        {
                          "id": {
                            "_id": "640c2dd963a319ea671e36db",
                            "name": "Free-range Eggs, Beaten",
                            "desc": "Chicken eggs from free-range chickens that have been whisked together until the whites and yolks are fully mixed.",
                            "img": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564797/vgrkykfsutx3tgdpcfsp.png"
                          },
                          "measure": "2"
                        },
                        {
                          "id": {
                            "_id": "640c2dd963a319ea671e36f6",
                            "name": "Ground Almonds",
                            "desc": "Ground almonds are finely powdered almonds that can be used as a gluten-free alternative to wheat flour in baking or as a topping for dishes like oatmeal or yogurt.",
                            "img": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564798/utvplhpheg7fn1mev30k.png"
                          },
                          "measure": "75g/3oz"
                        },
                        {
                          "id": {
                            "_id": "640c2dd963a319ea671e3861",
                            "name": "Almond Extract",
                            "desc": "The almond (Prunus dulcis, syn. Prunus amygdalus) is a species of tree native to Mediterranean climate regions of the Middle East, but widely cultivated elsewhere. The almond is also the name of the edible and widely cultivated seed of this tree. Within the genus Prunus, it is classified with the peach in the subgenus Amygdalus, distinguished from the other subgenera by corrugations on the shell (endocarp) surrounding the seed.\r\n\r\nThe fruit of the almond is a drupe, consisting of an outer hull and a hard shell with the seed, which is not a true nut, inside. Shelling almonds refers to removing the shell to reveal the seed. Almonds are sold shelled or unshelled. Blanched almonds are shelled almonds that have been treated with hot water to soften the seedcoat, which is then removed to reveal the white embryo.",
                            "img": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678565046/xorc6zn6c7rqdqoqho1r.png"
                          },
                          "measure": "1 tsp"
                        },
                        {
                          "id": {
                            "_id": "640c2dd963a319ea671e36d5",
                            "name": "Flaked Almonds",
                            "desc": "Sliced or chopped almonds commonly used in baking and as a topping for salads and desserts.",
                            "img": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564798/ioewvib3w3mmdbbhp8ia.png"
                          },
                          "measure": "50g/1¾oz"
                        }
                      ],
                      "popularity": 0,
                      "updatedAt": "2023-07-17T07:39:51.200Z"
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          },
          "404": {
            "description": "You don't have any favorite recipes yet",
            "content": {}
          },
          "500": {
            "description": "Server error",
            "content": {}
          }
        }
      }
    },
    "/favorites/{recipeId}": {
      "delete": {
        "tags": ["Recipes"],
        "summary": "Delete from favorites a recipe created by the User",
        "parameters": [
          {
            "in": "path",
            "name": "recipeId",
            "schema": { "type": "string" },
            "required": true,
            "description": "Recipe Id"
          }
        ],
        "security": [{ "Bearer": [] }],
        "responses": {
          "201": {
            "description": "Recipe removed from favorites successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Recipe removed from favorites successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          },
          "400": {
            "description": "The recipe has already been removed from favorites",
            "content": {}
          },
          "500": {
            "description": "Server error",
            "content": {}
          }
        }
      }
    },
    "/ingredients/list": {
      "get": {
        "tags": ["Ingredients"],
        "summary": "Get all ingredients",
        "parameters": [],
        "security": [
          {
            "Bearer": []
          }
        ],
        "responses": {
          "200": {
            "description": "Get the list of ingredients successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IngredientsListResponse"
                }
              }
            }
          },
          "500": {
            "description": "Server problems",
            "content": {}
          }
        }
      }
    },
    "/shopping-list": {
      "get": {
        "tags": ["ShoppingList"],
        "summary": "Get all products from shopping list",
        "parameters": [],
        "security": [
          {
            "Bearer": []
          }
        ],
        "responses": {
          "200": {
            "description": "Get all products successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/productsResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["ShoppingList"],
        "summary": "Add new product to shopping list",
        "parameters": [],
        "security": [
          {
            "Bearer": []
          }
        ],
        "requestBody": {
          "description": "New product",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/addProductRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "New product added",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/addProductResponse"
                }
              }
            }
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          },
          "500": {
            "description": "Server error",
            "content": {}
          }
        }
      }
    },
    "/ownRecipes": {
      "post": {
        "tags": ["Recipes"],
        "summary": "Adding a recipe created by the User",
        "parameters": [],
        "security": [{ "Bearer": [] }],
        "requestBody": {
          "description": "Recipe's object",
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/OwnRecipeRequest"
              }
            },
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OwnRecipeRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Recipe created successfully"
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          },

          "500": {
            "description": "Failed to create recipe",
            "content": {}
          }
        }
      },
      "get": {
        "tags": ["Recipes"],
        "summary": "Getting a recipes created by the User",
        "parameters": [],
        "security": [{ "Bearer": [] }],
        "responses": {
          "200": {
            "description": "Recipe geted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecipeResponse"
                }
              }
            }
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          },
          "404": {
            "description": "No recipes have been created yet",
            "content": {}
          },

          "500": {
            "description": "Failed to fetch own recipes",
            "content": {}
          }
        }
      }
    },
    "/ownRecipes/{recipeId}": {
      "delete": {
        "tags": ["Recipes"],
        "summary": "Delete a recipe created by the User",
        "parameters": [
          {
            "in": "path",
            "name": "recipeId",
            "schema": { "type": "string" },
            "required": true,
            "description": "Recipe Id"
          }
        ],
        "security": [{ "Bearer": [] }],
        "responses": {
          "201": {
            "description": "Recipe deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Recipe deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Not authorized",
            "content": {}
          },
          "403": {
            "description": "You are not authorized to delete this recipe",
            "content": {}
          },
          "404": {
            "description": "Not found",
            "content": {}
          },

          "500": {
            "description": "Failed to fetch own recipes",
            "content": {}
          }
        }
      }
    },
    "/shopping-list/{id}": {
      "delete": {
        "tags": ["ShoppingList"],
        "summary": "Delete product from shopping list",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Product's id",
            "example": "589b43b898vc19791795e093"
          }
        ],
        "security": [
          {
            "Bearer": []
          }
        ],
        "responses": {
          "200": {
            "description": "Product deleted successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/deleteProductResponse"
                }
              }
            }
          },
          "404": {
            "description": "Product not found",
            "content": {}
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "RegisterSchema": {
        "type": "object",
        "required": ["email", "password", "name"],
        "properties": {
          "email": {
            "type": "string",
            "description": "User's email",
            "format": "email"
          },
          "password": {
            "type": "string",
            "description": "User's password",
            "example": "qwerty123"
          },
          "name": {
            "type": "string",
            "description": "User's name",
            "example": "Bogdan"
          }
        }
      },
      "RegistrationResponse": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "description": "Authentication token",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY0YWE5NjQ0ZWJlYzlmMzc0NzY1MDEzZiIsImlhdCI6MTY4ODkwMTE4OCwiZXhwIjoxNjg4OTgzOTg4fQ.o2KLsNNVlFVi-pkVtvv5CdZ6QK70ooepLMkaijWrLoA"
          },
          "user": {
            "type": "object",
            "properties": {
              "email": {
                "type": "string",
                "description": "User's email",
                "format": "email"
              },
              "name": {
                "type": "string",
                "description": "User's name",
                "example": "Bogdan"
              }
            }
          }
        }
      },
      "LoginSchema": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "User's email",
            "format": "email"
          },
          "password": {
            "type": "string",
            "description": "User's password",
            "example": "qwerty123"
          }
        }
      },
      "getCurrent": {
        "type": "object",
        "required": ["email", "name"],
        "properties": {
          "email": {
            "type": "string",
            "description": "User's email",
            "format": "email"
          },
          "name": {
            "type": "string",
            "description": "User's name",
            "example": "Bogdan"
          }
        }
      },
      "updateUser": {
        "type": "object",
        "required": ["name"],
        "properties": {
          "name": {
            "type": "string",
            "description": "User's name",
            "example": "Mango"
          },
          "avatarURL": {
            "type": "string",
            "format": "binary",
            "description": "User's avatar"
          }
        }
      },
      "updateUserResponse": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "User's name",
            "example": "Mango"
          },
          "avatarURL": {
            "type": "string",
            "format": "binary",
            "contentMediaType": "image/jpeg",
            "description": "User's avatar"
          }
        }
      },
      "AuthResponse": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "description": "Authentication token",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY0YWE5NjQ0ZWJlYzlmMzc0NzY1MDEzZiIsImlhdCI6MTY4ODkwMTE4OCwiZXhwIjoxNjg4OTgzOTg4fQ.o2KLsNNVlFVi-pkVtvv5CdZ6QK70ooepLMkaijWrLoA"
          },
          "user": {
            "type": "object",
            "properties": {
              "email": {
                "type": "string",
                "description": "User's email",
                "format": "email"
              },
              "name": {
                "type": "string",
                "description": "User's name",
                "example": "Bogdan"
              }
            }
          }
        }
      },
      "subscribeRequest": {
        "type": "object",
        "properties": {
          "subscription": {
            "type": "string",
            "description": "Subscription request",
            "example": "subscribe",
            "enam": ["subscribe", "unsubscribe"]
          },
          "email": {
            "type": "string",
            "description": "User's email",
            "format": "email"
          }
        }
      },
      "subscribeResponse": {
        "type": "object",
        "properties": {
          "subscription": {
            "type": "string",
            "description": "Subscription responce",
            "example": "Subscribe for us",
            "enam": ["subscribe", "unsubscribe"]
          }
        }
      },
      "Recipe": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Recipe title"
          },
          "category": {
            "type": "string",
            "enum": [
              "Beef",
              "Breakfast",
              "Chicken",
              "Dessert",
              "Goat",
              "Lamb",
              "Miscellaneous",
              "Pasta",
              "Pork",
              "Seafood",
              "Side",
              "Starter",
              "Vegan",
              "Vegetarian"
            ],
            "description": "Recipe category"
          },
          "area": {
            "type": "string",
            "description": "Recipe area"
          },
          "instructions": {
            "type": "string",
            "description": "Recipe instructions"
          },
          "description": {
            "type": "string",
            "description": "Recipe description"
          },
          "time": {
            "type": "string",
            "description": "Recipe preparation time"
          },
          "ingredients": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "Ingredient ID",
                  "ref": "ingredient"
                },
                "measure": {
                  "type": "string",
                  "description": "Ingredient measure"
                }
              }
            },
            "description": "Recipe ingredients"
          },
          "thumb": {
            "type": "string",
            "description": "Recipe thumbnail"
          },
          "preview": {
            "type": "string",
            "description": "Recipe preview"
          },
          "youtube": {
            "type": "string",
            "description": "Recipe YouTube video link"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Recipe tags"
          },
          "popularity": {
            "type": "number",
            "description": "Recipe popularity"
          }
        }
      },
      "OwnRecipeRequest": {
        "type": "object",
        "properties": {
          "title": { "type": "string" },
          "category": {
            "type": "string",
            "enum": [
              "Beef",
              "Breakfast",
              "Chicken",
              "Dessert",
              "Goat",
              "Lamb",
              "Miscellaneous",
              "Pasta",
              "Pork",
              "Seafood",
              "Side",
              "Starter",
              "Vegan",
              "Vegetarian"
            ]
          },
          "area": { "type": "string" },
          "instructions": { "type": "string" },
          "description": { "type": "string" },
          "time": { "type": "string" },
          "ingredients": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": { "type": "string" },
                "measure": { "type": "string" }
              }
            }
          },
          "thumb": { "type": "string" },
          "preview": {
            "type": "object",
            "properties": {
              "fieldname": { "type": "string" },
              "originalname": { "type": "string" },
              "encoding": { "type": "string" },
              "mimetype": { "type": "string" },
              "destination": { "type": "string" },
              "filename": { "type": "string" },
              "path": { "type": "string" },
              "size": { "type": "number" }
            }
          },
          "youtube": { "type": "string" },
          "tags": {
            "type": "array",
            "items": { "type": "string" }
          },
          "popularity": { "type": "number" }
        },
        "required": [
          "title",
          "category",
          "instructions",
          "description",
          "time",
          "ingredients",
          "preview"
        ]
      },
      "IngredientsListResponse": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "description": "Name of ingredient",
              "example": "Potato"
            },
            "desc": {
              "type": "string",
              "description": "Description of ingredient",
              "example": ""
            },
            "img": {
              "type": "string",
              "description": "URL of ingredient's image",
              "example": "https://res.cloudinary.com/***********"
            }
          }
        }
      },
      "productsResponse": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Title of product",
            "format": "text",
            "example": "Title"
          },
          "quantity": {
            "type": "string",
            "description": "Quantity of product",
            "format": "text",
            "example": "7"
          },
          "user": {
            "type": "string",
            "description": "User's id",
            "example": "589b43b898vc19791795e093"
          },
          "thumb": {
            "type": "string",
            "description": "URL of product's image",
            "format": "text",
            "example": "https://res.cloudinary.com/***********"
          }
        }
      },
      "addProductRequest": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "title": {
              "type": "string",
              "description": "Title of product",
              "format": "text"
            },
            "quantity": {
              "type": "string",
              "description": "Quantity of product",
              "format": "text"
            },
            "thumb": {
              "type": "string",
              "description": "URL of product's image",
              "format": "text"
            }
          }
        },
        "example": [
          {
            "title": "Title1",
            "quantity": "1",
            "thumb": "https://res.cloudinary.com/***********"
          },
          {
            "title": "Title2",
            "quantity": "2",
            "thumb": "https://res.cloudinary.com/***********"
          }
        ]
      },
      "addProductResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Success message",
            "example": "Product added successful"
          }
        }
      },
      "deleteProductResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Success message",
            "example": "Product deleted successful"
          }
        }
      },
      "securitySchemes": {
        "Bearer": {
          "type": "http",
          "scheme": "bearer",
          "bearerFormat": "JWT"
        }
      }
    }
  }
}
